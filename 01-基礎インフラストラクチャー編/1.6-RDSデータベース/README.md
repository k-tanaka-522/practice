# 1.6 RDSãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

## ğŸ¯ ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã§å­¦ã¶ã“ã¨

RDS MySQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’è¿½åŠ ã—ã¦ã€å®Œå…¨ãª3å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­å®šã‚’å­¦ç¿’ã—ã¾ã™ã€‚

## ğŸ“‹ ä½œæˆã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹

- **RDS MySQL ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹**: ãƒãƒãƒ¼ã‚¸ãƒ‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **DB ã‚µãƒ–ãƒãƒƒãƒˆã‚°ãƒ«ãƒ¼ãƒ—**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç”¨ã®ã‚µãƒ–ãƒãƒƒãƒˆ
- **DB ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚°ãƒ«ãƒ¼ãƒ—**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š
- **Secrets Manager**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èªè¨¼æƒ…å ±ã®ç®¡ç†
- **å®Œå…¨ãª3å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ‡ãƒ¼ã‚¿å±¤

## ğŸ—ï¸ å®Œæˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        VPC (10.0.0.0/16)                       â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚        AZ-1a            â”‚  â”‚        AZ-1c            â”‚       â”‚
â”‚  â”‚                         â”‚  â”‚                         â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚       â”‚
â”‚  â”‚  â”‚ Public Subnet   â”‚    â”‚  â”‚  â”‚ Public Subnet   â”‚    â”‚       â”‚
â”‚  â”‚  â”‚                 â”‚    â”‚  â”‚  â”‚                 â”‚    â”‚       â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚       â”‚
â”‚  â”‚  â”‚ â”‚     ALB     â”‚ â”‚    â”‚  â”‚  â”‚ â”‚     ALB     â”‚ â”‚    â”‚       â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚       â”‚
â”‚  â”‚                         â”‚  â”‚                         â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚       â”‚
â”‚  â”‚  â”‚ Private Subnet  â”‚    â”‚  â”‚  â”‚ Private Subnet  â”‚    â”‚       â”‚
â”‚  â”‚  â”‚                 â”‚    â”‚  â”‚  â”‚                 â”‚    â”‚       â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚       â”‚
â”‚  â”‚  â”‚ â”‚ EC2 + PHP   â”‚ â”‚    â”‚  â”‚  â”‚ â”‚ EC2 + PHP   â”‚ â”‚    â”‚       â”‚
â”‚  â”‚  â”‚ â”‚ Web Server  â”‚ â”‚    â”‚  â”‚  â”‚ â”‚ Web Server  â”‚ â”‚    â”‚       â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚       â”‚
â”‚  â”‚           â”‚              â”‚  â”‚           â”‚             â”‚       â”‚
â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚       â”‚
â”‚  â”‚                          â”‚  â”‚                         â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚       â”‚
â”‚  â”‚  â”‚ Database Subnet â”‚    â”‚  â”‚  â”‚ Database Subnet â”‚    â”‚       â”‚
â”‚  â”‚  â”‚                 â”‚    â”‚  â”‚  â”‚                 â”‚    â”‚       â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚       â”‚
â”‚  â”‚  â”‚ â”‚ RDS MySQL   â”‚ â”‚    â”‚  â”‚  â”‚ â”‚ RDS MySQL   â”‚ â”‚    â”‚       â”‚
â”‚  â”‚  â”‚ â”‚ (Primary)   â”‚ â”‚    â”‚  â”‚  â”‚ â”‚ (Standby)   â”‚ â”‚    â”‚       â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                 â”‚
â”‚                    Internet Gateway                             â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â–¼                                      â”‚
â”‚                      Internet                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”‘ äº‹å‰æº–å‚™

### 1. EC2 Key Pairã®ä½œæˆ

```bash
# Key Pairã‚’ä½œæˆ (SSHæ¥ç¶šç”¨)
aws ec2 create-key-pair \
  --key-name aws-practice-keypair \
  --query 'KeyMaterial' \
  --output text > aws-practice-keypair.pem

# æ¨©é™ã‚’è¨­å®š
chmod 600 aws-practice-keypair.pem
```

### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®æº–å‚™

```bash
# å¼·åŠ›ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç”Ÿæˆï¼ˆä¾‹ï¼‰
echo "MySecurePassword123" # å®Ÿéš›ã®æœ¬ç•ªç’°å¢ƒã§ã¯ã€ã‚ˆã‚Šè¤‡é›‘ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ç”¨
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### å‰ææ¡ä»¶
- **å®Ÿè¡Œãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**: ã“ã®READMEãŒã‚ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆ`1.6-RDSãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹/`ï¼‰ã‹ã‚‰å®Ÿè¡Œã—ã¦ãã ã•ã„
- **AWS CLI**: è¨­å®šæ¸ˆã¿ã§ã‚ã‚‹ã“ã¨
- **æ¨©é™**: CloudFormationã¨VPCä½œæˆæ¨©é™ãŒã‚ã‚‹ã“ã¨

### 1. å‰ã®ã‚¹ãƒ†ãƒƒãƒ—ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ— (å¿…è¦ã«å¿œã˜ã¦)

```bash
# å‰ã®ã‚¹ãƒ†ãƒƒãƒ—ã®ã‚¹ã‚¿ãƒƒã‚¯ã‚’å‰Šé™¤ (å¿…è¦ã«å¿œã˜ã¦)
aws cloudformation delete-stack --stack-name aws-practice-alb
```

### 2. å®Œå…¨ãª3å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# å®Œå…¨ãªã‚¹ã‚¿ãƒƒã‚¯ã®ä½œæˆ
aws cloudformation create-stack \
  --stack-name aws-practice-complete \
  --template-body file://cloudformation/templates/main-stack.yaml \
  --parameters ParameterKey=ProjectName,ParameterValue=aws-practice \
               ParameterKey=EnvironmentName,ParameterValue=dev \
               ParameterKey=KeyPairName,ParameterValue=aws-practice-keypair \
               ParameterKey=DatabasePassword,ParameterValue=MySecurePassword123 \
  --capabilities CAPABILITY_IAM
```

### 3. ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†ã®ç¢ºèª

```bash
# ã‚¹ã‚¿ãƒƒã‚¯ã®çŠ¶æ…‹ç¢ºèª
aws cloudformation describe-stacks \
  --stack-name aws-practice-complete \
  --query 'Stacks[0].StackStatus'

# Webã‚µã‚¤ãƒˆURLã®å–å¾—
WEBSITE_URL=$(aws cloudformation describe-stacks \
  --stack-name aws-practice-complete \
  --query 'Stacks[0].Outputs[?OutputKey==`WebsiteURL`].OutputValue' \
  --output text)

echo "Website URL: $WEBSITE_URL"
echo "Database Test URL: $WEBSITE_URL/dbtest.php"
```

## ğŸ“Š ç¢ºèªäº‹é …

- [ ] RDS MySQL ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹
- [ ] DB ã‚µãƒ–ãƒãƒƒãƒˆã‚°ãƒ«ãƒ¼ãƒ—ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹
- [ ] Secrets Manager ã«èªè¨¼æƒ…å ±ãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹
- [ ] EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ¥ç¶šã§ãã‚‹
- [ ] Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã‚‹
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ãŒå‹•ä½œã—ã¦ã„ã‚‹

## ğŸ’¡ ãƒã‚¤ãƒ³ãƒˆ

1. **3å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ‡ãƒ¼ã‚¿å±¤ã®åˆ†é›¢
2. **Secrets Manager**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èªè¨¼æƒ…å ±ã®å®‰å…¨ãªç®¡ç†
3. **DB ã‚µãƒ–ãƒãƒƒãƒˆã‚°ãƒ«ãƒ¼ãƒ—**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å°‚ç”¨ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†é›¢
4. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚µãƒ–ãƒãƒƒãƒˆã«é…ç½®
5. **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**: è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨ãƒã‚¤ãƒ³ãƒˆã‚¤ãƒ³ã‚¿ã‚¤ãƒ å¾©æ—§

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### 1. Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å‹•ä½œç¢ºèª

```bash
# ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã®ã‚¢ã‚¯ã‚»ã‚¹
curl -I $WEBSITE_URL

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆ
curl -s "$WEBSITE_URL/dbtest.php"

# PHPæƒ…å ±ã®ç¢ºèª
curl -s "$WEBSITE_URL/info.php" | grep -i mysql
```

### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã®ç¢ºèª

```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå–å¾—
DB_ENDPOINT=$(aws cloudformation describe-stacks \
  --stack-name aws-practice-complete \
  --query 'Stacks[0].Outputs[?OutputKey==`DatabaseEndpoint`].OutputValue' \
  --output text)

echo "Database Endpoint: $DB_ENDPOINT"

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®çŠ¶æ…‹ç¢ºèª
aws rds describe-db-instances \
  --db-instance-identifier aws-practice-dev-mysql \
  --query 'DBInstances[0].DBInstanceStatus'
```

### 3. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®ç¢ºèª

```bash
# è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®ç¢ºèª
aws rds describe-db-instances \
  --db-instance-identifier aws-practice-dev-mysql \
  --query 'DBInstances[0].[BackupRetentionPeriod,PreferredBackupWindow,PreferredMaintenanceWindow]'

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã®ç¢ºèª
aws rds describe-db-snapshots \
  --db-instance-identifier aws-practice-dev-mysql \
  --query 'DBSnapshots[*].[DBSnapshotIdentifier,SnapshotCreateTime,Status]'
```

## ğŸ“ˆ ç›£è¦–ã¨ãƒ¡ãƒˆãƒªã‚¯ã‚¹

### 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹

```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šæ•°ã®ç¢ºèª
aws cloudwatch get-metric-statistics \
  --namespace AWS/RDS \
  --metric-name DatabaseConnections \
  --dimensions Name=DBInstanceIdentifier,Value=aws-practice-dev-mysql \
  --start-time $(date -u -d '1 hour ago' +%Y-%m-%dT%H:%M:%S) \
  --end-time $(date -u +%Y-%m-%dT%H:%M:%S) \
  --period 300 \
  --statistics Average,Maximum
```

### 2. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒˆãƒªã‚¯ã‚¹

```bash
# ALB ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå¿œç­”æ™‚é–“
aws cloudwatch get-metric-statistics \
  --namespace AWS/ApplicationELB \
  --metric-name TargetResponseTime \
  --dimensions Name=LoadBalancer,Value=$(aws elbv2 describe-load-balancers \
    --names aws-practice-dev-alb \
    --query 'LoadBalancers[0].LoadBalancerArn' \
    --output text | cut -d'/' -f2-) \
  --start-time $(date -u -d '1 hour ago' +%Y-%m-%dT%H:%M:%S) \
  --end-time $(date -u +%Y-%m-%dT%H:%M:%S) \
  --period 300 \
  --statistics Average
```

## ğŸ”§ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†

### 1. æ‰‹å‹•ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã®ä½œæˆ

```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä½œæˆ
aws rds create-db-snapshot \
  --db-instance-identifier aws-practice-dev-mysql \
  --db-snapshot-identifier aws-practice-dev-mysql-manual-$(date +%Y%m%d%H%M%S)
```

### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°

```bash
# ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚¯ãƒ©ã‚¹ã®å¤‰æ›´ï¼ˆä¾‹ï¼šdb.t3.small ã«å¤‰æ›´ï¼‰
aws rds modify-db-instance \
  --db-instance-identifier aws-practice-dev-mysql \
  --db-instance-class db.t3.small \
  --apply-immediately
```

### 3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºèª

```bash
# CPUä½¿ç”¨ç‡ã®ç¢ºèª
aws cloudwatch get-metric-statistics \
  --namespace AWS/RDS \
  --metric-name CPUUtilization \
  --dimensions Name=DBInstanceIdentifier,Value=aws-practice-dev-mysql \
  --start-time $(date -u -d '1 hour ago' +%Y-%m-%dT%H:%M:%S) \
  --end-time $(date -u +%Y-%m-%dT%H:%M:%S) \
  --period 300 \
  --statistics Average,Maximum
```

## ğŸš¨ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ãƒã‚¤ãƒ³ãƒˆ

1. **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†é›¢**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯å°‚ç”¨ã‚µãƒ–ãƒãƒƒãƒˆã«é…ç½®
2. **æš—å·åŒ–**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ä¿å­˜æ™‚æš—å·åŒ–ã‚’æœ‰åŠ¹åŒ–
3. **èªè¨¼æƒ…å ±ç®¡ç†**: Secrets Manager ã«ã‚ˆã‚‹å®‰å…¨ãªèªè¨¼æƒ…å ±ç®¡ç†
4. **ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã«ã‚ˆã‚‹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™
5. **ç›£æŸ»**: CloudTrail ã«ã‚ˆã‚‹ API æ´»å‹•ã®ç›£è¦–

## ğŸ—‘ï¸ ãƒªã‚½ãƒ¼ã‚¹ã®å‰Šé™¤

```bash
# Key Pairã®å‰Šé™¤
aws ec2 delete-key-pair --key-name aws-practice-keypair
rm aws-practice-keypair.pem

# ã‚¹ã‚¿ãƒƒã‚¯ã®å‰Šé™¤
aws cloudformation delete-stack \
  --stack-name aws-practice-complete

# å‰Šé™¤ã®ç¢ºèª
aws cloudformation describe-stacks \
  --stack-name aws-practice-complete \
  --query 'Stacks[0].StackStatus'
```

## ğŸ‰ å­¦ç¿’å®Œäº†

### ç¿’å¾—ã—ãŸã‚¹ã‚­ãƒ«

âœ… **VPC ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­è¨ˆ**
- Multi-AZ ã§ã®ã‚µãƒ–ãƒãƒƒãƒˆè¨­è¨ˆ
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã®é©åˆ‡ãªè¨­å®š

âœ… **Auto Scaling ã¨ Load Balancing**
- EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
- Application Load Balancer ã®è¨­å®š

âœ… **RDS ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†**
- ãƒãƒãƒ¼ã‚¸ãƒ‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®è¨­å®š
- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š

âœ… **3å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**
- ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ‡ãƒ¼ã‚¿å±¤ã®åˆ†é›¢
- é«˜å¯ç”¨æ€§ã¨æ‹¡å¼µæ€§ã®å®Ÿç¾

âœ… **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹**
- æœ€å°æ¨©é™ã®åŸå‰‡
- èªè¨¼æƒ…å ±ã®å®‰å…¨ãªç®¡ç†

## ğŸ“ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼AWS åŸºç¤ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ãƒ¼ã®å­¦ç¿’ãŒå®Œäº†ã—ã¾ã—ãŸã€‚

æ¬¡ã¯ã€Œ**02-Webä¸‰å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç·¨**ã€ã§ã€ã‚ˆã‚Šé«˜åº¦ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹ç¯‰ã‚’å­¦ç¿’ã—ã¾ã™ã€‚

---

**ğŸ’° ç·ã‚³ã‚¹ãƒˆ**: 
- ALB: ç´„$0.025/æ™‚é–“
- EC2 t3.micro x2: ç´„$0.02/æ™‚é–“
- RDS db.t3.micro: ç´„$0.015/æ™‚é–“
- **åˆè¨ˆ: ç´„$0.06/æ™‚é–“ (æœˆé¡ç´„$43)**

**ğŸŒŸ é”æˆã—ãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**:
å®Œå…¨ãª3å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã‚ˆã‚‹é«˜å¯ç”¨æ€§Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼
